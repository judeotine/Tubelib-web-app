"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./components/Main.tsx":
/*!*****************************!*\
  !*** ./components/Main.tsx ***!
  \*****************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Main; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var _lib_indexedDb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/indexedDb */ \"(app-pages-browser)/./lib/indexedDb.ts\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/utils */ \"(app-pages-browser)/./lib/utils.ts\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _AddVideoDialog__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./AddVideoDialog */ \"(app-pages-browser)/./components/AddVideoDialog.tsx\");\n/* harmony import */ var _MiniPlayer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./MiniPlayer */ \"(app-pages-browser)/./components/MiniPlayer.tsx\");\n/* harmony import */ var _Player__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Player */ \"(app-pages-browser)/./components/Player.tsx\");\n/* harmony import */ var _MyVideos__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./MyVideos */ \"(app-pages-browser)/./components/MyVideos.tsx\");\n/* harmony import */ var sonner__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! sonner */ \"(app-pages-browser)/./node_modules/sonner/dist/index.mjs\");\n/* harmony import */ var _lib_flexSearch__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/lib/flexSearch */ \"(app-pages-browser)/./lib/flexSearch.ts\");\n/* harmony import */ var _lib_hooks_useMediaDownload__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/lib/hooks/useMediaDownload */ \"(app-pages-browser)/./lib/hooks/useMediaDownload.ts\");\n/* harmony import */ var _lib_hooks_useMediaSession__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/lib/hooks/useMediaSession */ \"(app-pages-browser)/./lib/hooks/useMediaSession.ts\");\n/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ \"(app-pages-browser)/./node_modules/next/dist/compiled/buffer/index.js\")[\"Buffer\"];\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\nfunction Main() {\n    _s();\n    const [videos, setVideos] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)([]);\n    const [currentView, setCurrentView] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(\"home\");\n    const [currentVideo, setCurrentVideo] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const [isPlaying, setIsPlaying] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const [position, setPosition] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(0);\n    const [duration, setDuration] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(0);\n    const [videoSrc, setVideoSrc] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)();\n    const [audioSrc, setAudioSrc] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)();\n    const videoRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n    const audioRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n    const { getMedia } = (0,_lib_hooks_useMediaDownload__WEBPACK_IMPORTED_MODULE_10__.useMediaDownload)();\n    const mediaHandlers = {\n        onPlay: ()=>{\n            var _audioRef_current;\n            (_audioRef_current = audioRef.current) === null || _audioRef_current === void 0 ? void 0 : _audioRef_current.play();\n            setIsPlaying(true);\n            navigator.mediaSession.playbackState = \"playing\";\n        },\n        onPause: ()=>{\n            var _audioRef_current;\n            (_audioRef_current = audioRef.current) === null || _audioRef_current === void 0 ? void 0 : _audioRef_current.pause();\n            setIsPlaying(false);\n            navigator.mediaSession.playbackState = \"paused\";\n        },\n        onStop: ()=>{\n            var _audioRef_current;\n            (_audioRef_current = audioRef.current) === null || _audioRef_current === void 0 ? void 0 : _audioRef_current.pause();\n            setIsPlaying(false);\n        },\n        onPrev: ()=>handleTrackChange(\"prev\"),\n        onNext: ()=>handleTrackChange(\"next\"),\n        onSeek: (time)=>{\n            audioRef.current && (audioRef.current.currentTime = time);\n        }\n    };\n    const { updateMetadata, setupHandlers } = (0,_lib_hooks_useMediaSession__WEBPACK_IMPORTED_MODULE_11__.useMediaSession)(currentVideo, mediaHandlers);\n    const handleTogglePlay = ()=>{\n        if (isPlaying) {\n            mediaHandlers.onPause();\n        } else {\n            mediaHandlers.onPlay();\n        }\n    };\n    const handleAudioPlay = (event)=>{\n        if (!currentVideo) return;\n        updateMetadata();\n        setupHandlers();\n        setIsPlaying(true);\n        setPosition(0);\n        setDuration(event.currentTarget.duration);\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>{\n        const interval = setInterval(()=>{\n            const video = videoRef.current;\n            const audio = audioRef.current;\n            if (!video || !audio || video.duration < 0 || audio.duration < 0) return;\n            if (Math.abs(video.currentTime - audio.currentTime) > 0.3) {\n                video.currentTime = audio.currentTime;\n            }\n            if (audio.paused !== video.paused) {\n                audio.paused ? video.pause() : video.play();\n            }\n            setPosition(audio.currentTime);\n            setDuration(audio.duration);\n        }, 300);\n        return ()=>clearInterval(interval);\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>{\n        loadVideos();\n    }, []);\n    const handleTrackChange = async (direction)=>{\n        const currentIndex = videos.findIndex((v)=>v.id === (currentVideo === null || currentVideo === void 0 ? void 0 : currentVideo.id));\n        const nextVideo = await findNextDownloadedVideo(currentIndex, direction);\n        if (nextVideo) {\n            handleSelectVideo(nextVideo);\n        } else {\n            sonner__WEBPACK_IMPORTED_MODULE_8__.toast.error(\"No \".concat(direction === \"prev\" ? \"previous\" : \"more\", \" downloaded videos available\"));\n        }\n    };\n    const loadVideos = async ()=>{\n        const videos = await (0,_lib_indexedDb__WEBPACK_IMPORTED_MODULE_1__.getAllVideos)();\n        setVideos(videos);\n        await (0,_lib_flexSearch__WEBPACK_IMPORTED_MODULE_9__.initializeSearchIndex)(videos);\n    };\n    const handleSelectVideo = async (video)=>{\n        if (video.id === (currentVideo === null || currentVideo === void 0 ? void 0 : currentVideo.id)) {\n            setCurrentView(\"detail\");\n            return;\n        }\n        try {\n            const result = await getMedia(video.id, video.title);\n            if (!result) return;\n            const { videoUrl, audioUrl } = result;\n            setVideoSrc(videoUrl);\n            setAudioSrc(audioUrl);\n            setCurrentVideo(video);\n            setCurrentView(\"detail\");\n        } catch (error) {\n            console.error(error);\n            sonner__WEBPACK_IMPORTED_MODULE_8__.toast.error(\"Failed to load video\");\n        }\n    };\n    const handleAddVideo = async (video)=>{\n        const thumbnailResponse = await (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.corsFetch)(video.thumbnail);\n        const thumbnailBuffer = thumbnailResponse.status === 404 ? await (await fetch(video.thumbnail)).arrayBuffer() : await thumbnailResponse.arrayBuffer();\n        const thumbnailBase64 = Buffer.from(thumbnailBuffer).toString(\"base64\");\n        const newVideo = {\n            ...video,\n            thumbnail: \"data:image/jpeg;base64,\".concat(thumbnailBase64)\n        };\n        await (0,_lib_indexedDb__WEBPACK_IMPORTED_MODULE_1__.addVideo)(newVideo);\n        await (0,_lib_flexSearch__WEBPACK_IMPORTED_MODULE_9__.addToSearchIndex)(newVideo);\n        (0,sonner__WEBPACK_IMPORTED_MODULE_8__.toast)(\"Video added successfully\");\n        await loadVideos();\n    };\n    const handleDeleteVideo = async (video)=>{\n        await (0,_lib_indexedDb__WEBPACK_IMPORTED_MODULE_1__.deleteVideo)(video.id);\n        await (0,_lib_indexedDb__WEBPACK_IMPORTED_MODULE_1__.deleteMediaBinary)(video.id);\n        await (0,_lib_flexSearch__WEBPACK_IMPORTED_MODULE_9__.removeFromSearchIndex)(video.id);\n        (0,sonner__WEBPACK_IMPORTED_MODULE_8__.toast)(\"Video deleted successfully\");\n        loadVideos();\n    };\n    const handlePlayerBack = ()=>{\n        setCurrentView(\"home\");\n    };\n    const handleMiniPlayerClick = ()=>{\n        setCurrentView(\"detail\");\n    };\n    const findNextDownloadedVideo = async (currentIndex, direction)=>{\n        const step = direction === \"next\" ? 1 : -1;\n        const limit = direction === \"next\" ? videos.length : -1;\n        for(let i = currentIndex + step; i !== limit; i += step){\n            const video = videos[i];\n            const media = await (0,_lib_indexedDb__WEBPACK_IMPORTED_MODULE_1__.getMediaBinary)(video.id);\n            if (media) {\n                return video;\n            }\n        }\n        return null;\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-col h-dvh\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                        className: \"flex flex-col md:flex-row flex-1 overflow-y-auto md:items-start mt-safe ml-safe mr-safe\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"md:sticky top-0 left-0 w-full md:w-1/4 p-4 space-y-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center space-x-2 my-3\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                src: \".app/144.png\",\n                                                alt: \"TubeLib Logo\",\n                                                className: \"size-8 rounded\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/jude/Documents/Projects/Tubelib-web-app/components/Main.tsx\",\n                                                lineNumber: 213,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                                className: \"text-2xl font-bold\",\n                                                children: \"TubeLib\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/jude/Documents/Projects/Tubelib-web-app/components/Main.tsx\",\n                                                lineNumber: 218,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/jude/Documents/Projects/Tubelib-web-app/components/Main.tsx\",\n                                        lineNumber: 212,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_AddVideoDialog__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                        onAddVideo: handleAddVideo,\n                                        onSelectVideo: handleSelectVideo\n                                    }, void 0, false, {\n                                        fileName: \"/home/jude/Documents/Projects/Tubelib-web-app/components/Main.tsx\",\n                                        lineNumber: 220,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/jude/Documents/Projects/Tubelib-web-app/components/Main.tsx\",\n                                lineNumber: 211,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-full md:w-3/4 p-4 border-secondary flex-grow self-stretch\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_MyVideos__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                    videos: videos,\n                                    onSelectVideo: handleSelectVideo,\n                                    onDeleteVideo: handleDeleteVideo\n                                }, void 0, false, {\n                                    fileName: \"/home/jude/Documents/Projects/Tubelib-web-app/components/Main.tsx\",\n                                    lineNumber: 226,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/jude/Documents/Projects/Tubelib-web-app/components/Main.tsx\",\n                                lineNumber: 225,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/jude/Documents/Projects/Tubelib-web-app/components/Main.tsx\",\n                        lineNumber: 210,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_MiniPlayer__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                        currentVideo: currentVideo,\n                        currentView: currentView,\n                        isPlaying: isPlaying,\n                        onClick: handleMiniPlayerClick,\n                        onTogglePlay: handleTogglePlay\n                    }, void 0, false, {\n                        fileName: \"/home/jude/Documents/Projects/Tubelib-web-app/components/Main.tsx\",\n                        lineNumber: 233,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/jude/Documents/Projects/Tubelib-web-app/components/Main.tsx\",\n                lineNumber: 209,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Player__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                currentVideo: currentVideo,\n                currentView: currentView,\n                isPlaying: isPlaying,\n                position: position,\n                duration: duration,\n                onBack: handlePlayerBack,\n                onTogglePlay: handleTogglePlay,\n                onClickPrevTrack: ()=>handleTrackChange(\"prev\"),\n                onClickNextTrack: ()=>handleTrackChange(\"next\"),\n                onSeekTo: mediaHandlers.onSeek,\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                    className: \"aspect-video w-full bg-secondary rounded-lg\",\n                    playsInline: true,\n                    autoPlay: true,\n                    poster: currentVideo === null || currentVideo === void 0 ? void 0 : currentVideo.thumbnail,\n                    src: videoSrc,\n                    ref: videoRef,\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"source\", {\n                        src: videoSrc,\n                        type: \"video/webm\"\n                    }, void 0, false, {\n                        fileName: \"/home/jude/Documents/Projects/Tubelib-web-app/components/Main.tsx\",\n                        lineNumber: 261,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/jude/Documents/Projects/Tubelib-web-app/components/Main.tsx\",\n                    lineNumber: 253,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/jude/Documents/Projects/Tubelib-web-app/components/Main.tsx\",\n                lineNumber: 241,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"audio\", {\n                autoPlay: true,\n                src: audioSrc,\n                ref: audioRef,\n                onPlay: handleAudioPlay,\n                onEnded: ()=>handleTrackChange(\"next\")\n            }, void 0, false, {\n                fileName: \"/home/jude/Documents/Projects/Tubelib-web-app/components/Main.tsx\",\n                lineNumber: 264,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true);\n}\n_s(Main, \"UV7SYQUhw1eO/oympTHRDCgngJ8=\", false, function() {\n    return [\n        _lib_hooks_useMediaDownload__WEBPACK_IMPORTED_MODULE_10__.useMediaDownload,\n        _lib_hooks_useMediaSession__WEBPACK_IMPORTED_MODULE_11__.useMediaSession\n    ];\n});\n_c = Main;\nvar _c;\n$RefreshReg$(_c, \"Main\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvTWFpbi50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFReUI7QUFFZTtBQUNZO0FBQ047QUFDUjtBQUNSO0FBQ0k7QUFDSDtBQUtMO0FBQ3NDO0FBQ0Y7QUFFL0MsU0FBU21COztJQUN0QixNQUFNLENBQUNDLFFBQVFDLFVBQVUsR0FBR2YsK0NBQVFBLENBQVUsRUFBRTtJQUNoRCxNQUFNLENBQUNnQixhQUFhQyxlQUFlLEdBQUdqQiwrQ0FBUUEsQ0FBQztJQUMvQyxNQUFNLENBQUNrQixjQUFjQyxnQkFBZ0IsR0FBR25CLCtDQUFRQSxDQUFlO0lBQy9ELE1BQU0sQ0FBQ29CLFdBQVdDLGFBQWEsR0FBR3JCLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU0sQ0FBQ3NCLFVBQVVDLFlBQVksR0FBR3ZCLCtDQUFRQSxDQUFDO0lBQ3pDLE1BQU0sQ0FBQ3dCLFVBQVVDLFlBQVksR0FBR3pCLCtDQUFRQSxDQUFDO0lBRXpDLE1BQU0sQ0FBQzBCLFVBQVVDLFlBQVksR0FBRzNCLCtDQUFRQTtJQUN4QyxNQUFNLENBQUM0QixVQUFVQyxZQUFZLEdBQUc3QiwrQ0FBUUE7SUFFeEMsTUFBTThCLFdBQVc3Qiw2Q0FBTUEsQ0FBbUI7SUFDMUMsTUFBTThCLFdBQVc5Qiw2Q0FBTUEsQ0FBbUI7SUFFMUMsTUFBTSxFQUFFK0IsUUFBUSxFQUFFLEdBQUdyQiw4RUFBZ0JBO0lBRXJDLE1BQU1zQixnQkFBZ0I7UUFDcEJDLFFBQVE7Z0JBQ05IO2FBQUFBLG9CQUFBQSxTQUFTSSxPQUFPLGNBQWhCSix3Q0FBQUEsa0JBQWtCSyxJQUFJO1lBQ3RCZixhQUFhO1lBQ2JnQixVQUFVQyxZQUFZLENBQUNDLGFBQWEsR0FBRztRQUN6QztRQUNBQyxTQUFTO2dCQUNQVDthQUFBQSxvQkFBQUEsU0FBU0ksT0FBTyxjQUFoQkosd0NBQUFBLGtCQUFrQlUsS0FBSztZQUN2QnBCLGFBQWE7WUFDYmdCLFVBQVVDLFlBQVksQ0FB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Qy9Cc0IsS0FBSzVFO29CQUNMMkYsS0FBS3ZGOzhCQUVMLDRFQUFDd0Y7d0JBQU9oQixLQUFLNUU7d0JBQVU2RixNQUFLOzs7Ozs7Ozs7Ozs7Ozs7OzBCQUdoQyw4REFBQzdEO2dCQUNDeUQsUUFBUTtnQkFDUmIsS0FBSzFFO2dCQUNMeUYsS0FBS3RGO2dCQUNMRyxRQUFRa0I7Z0JBQ1JvRSxTQUFTLElBQU01RSxrQkFBa0I7Ozs7Ozs7O0FBSXpDO0dBdlB3Qi9COztRQWNERiwwRUFBZ0JBO1FBd0JLQyx3RUFBZUE7OztLQXRDbkNDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NvbXBvbmVudHMvTWFpbi50c3g/OWQ4YyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHtcbiAgZ2V0QWxsVmlkZW9zLFxuICBhZGRWaWRlbyxcbiAgZGVsZXRlVmlkZW8sXG4gIGRlbGV0ZU1lZGlhQmluYXJ5LFxuICBnZXRNZWRpYUJpbmFyeSxcbn0gZnJvbSBcIkAvbGliL2luZGV4ZWREYlwiO1xuaW1wb3J0IHsgVmlkZW8gfSBmcm9tIFwiQC9saWIvbW9kZWwvVmlkZW9cIjtcbmltcG9ydCB7IGNvcnNGZXRjaCB9IGZyb20gXCJAL2xpYi91dGlsc1wiO1xuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZVJlZiwgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgQWRkVmlkZW9EaWFsb2cgZnJvbSBcIi4vQWRkVmlkZW9EaWFsb2dcIjtcbmltcG9ydCBNaW5pUGxheWVyIGZyb20gXCIuL01pbmlQbGF5ZXJcIjtcbmltcG9ydCBQbGF5ZXIgZnJvbSBcIi4vUGxheWVyXCI7XG5pbXBvcnQgTXlWaWRlb3MgZnJvbSBcIi4vTXlWaWRlb3NcIjtcbmltcG9ydCB7IHRvYXN0IH0gZnJvbSBcInNvbm5lclwiO1xuaW1wb3J0IHtcbiAgaW5pdGlhbGl6ZVNlYXJjaEluZGV4LFxuICBhZGRUb1NlYXJjaEluZGV4LFxuICByZW1vdmVGcm9tU2VhcmNoSW5kZXgsXG59IGZyb20gXCJAL2xpYi9mbGV4U2VhcmNoXCI7XG5pbXBvcnQgeyB1c2VNZWRpYURvd25sb2FkIH0gZnJvbSBcIkAvbGliL2hvb2tzL3VzZU1lZGlhRG93bmxvYWRcIjtcbmltcG9ydCB7IHVzZU1lZGlhU2Vzc2lvbiB9IGZyb20gXCJAL2xpYi9ob29rcy91c2VNZWRpYVNlc3Npb25cIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTWFpbigpIHtcbiAgY29uc3QgW3ZpZGVvcywgc2V0VmlkZW9zXSA9IHVzZVN0YXRlPFZpZGVvW10+KFtdKTtcbiAgY29uc3QgW2N1cnJlbnRWaWV3LCBzZXRDdXJyZW50Vmlld10gPSB1c2VTdGF0ZShcImhvbWVcIik7XG4gIGNvbnN0IFtjdXJyZW50VmlkZW8sIHNldEN1cnJlbnRWaWRlb10gPSB1c2VTdGF0ZTxWaWRlbyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbaXNQbGF5aW5nLCBzZXRJc1BsYXlpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcG9zaXRpb24sIHNldFBvc2l0aW9uXSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBbZHVyYXRpb24sIHNldER1cmF0aW9uXSA9IHVzZVN0YXRlKDApO1xuXG4gIGNvbnN0IFt2aWRlb1NyYywgc2V0VmlkZW9TcmNdID0gdXNlU3RhdGU8c3RyaW5nPigpO1xuICBjb25zdCBbYXVkaW9TcmMsIHNldEF1ZGlvU3JjXSA9IHVzZVN0YXRlPHN0cmluZz4oKTtcblxuICBjb25zdCB2aWRlb1JlZiA9IHVzZVJlZjxIVE1MVmlkZW9FbGVtZW50PihudWxsKTtcbiAgY29uc3QgYXVkaW9SZWYgPSB1c2VSZWY8SFRNTEF1ZGlvRWxlbWVudD4obnVsbCk7XG5cbiAgY29uc3QgeyBnZXRNZWRpYSB9ID0gdXNlTWVkaWFEb3dubG9hZCgpO1xuXG4gIGNvbnN0IG1lZGlhSGFuZGxlcnMgPSB7XG4gICAgb25QbGF5OiAoKSA9PiB7XG4gICAgICBhdWRpb1JlZi5jdXJyZW50Py5wbGF5KCk7XG4gICAgICBzZXRJc1BsYXlpbmcodHJ1ZSk7XG4gICAgICBuYXZpZ2F0b3IubWVkaWFTZXNzaW9uLnBsYXliYWNrU3RhdGUgPSBcInBsYXlpbmdcIjtcbiAgICB9LFxuICAgIG9uUGF1c2U6ICgpID0+IHtcbiAgICAgIGF1ZGlvUmVmLmN1cnJlbnQ/LnBhdXNlKCk7XG4gICAgICBzZXRJc1BsYXlpbmcoZmFsc2UpO1xuICAgICAgbmF2aWdhdG9yLm1lZGlhU2Vzc2lvbi5wbGF5YmFja1N0YXRlID0gXCJwYXVzZWRcIjtcbiAgICB9LFxuICAgIG9uU3RvcDogKCkgPT4ge1xuICAgICAgYXVkaW9SZWYuY3VycmVudD8ucGF1c2UoKTtcbiAgICAgIHNldElzUGxheWluZyhmYWxzZSk7XG4gICAgfSxcbiAgICBvblByZXY6ICgpID0+IGhhbmRsZVRyYWNrQ2hhbmdlKFwicHJldlwiKSxcbiAgICBvbk5leHQ6ICgpID0+IGhhbmRsZVRyYWNrQ2hhbmdlKFwibmV4dFwiKSxcbiAgICBvblNlZWs6ICh0aW1lOiBudW1iZXIpID0+IHtcbiAgICAgIGF1ZGlvUmVmLmN1cnJlbnQgJiYgKGF1ZGlvUmVmLmN1cnJlbnQuY3VycmVudFRpbWUgPSB0aW1lKTtcbiAgICB9LFxuICB9O1xuXG4gIGNvbnN0IHsgdXBkYXRlTWV0YWRhdGEsIHNldHVwSGFuZGxlcnMgfSA9IHVzZU1lZGlhU2Vzc2lvbihcbiAgICBjdXJyZW50VmlkZW8sXG4gICAgbWVkaWFIYW5kbGVycyxcbiAgKTtcblxuICBjb25zdCBoYW5kbGVUb2dnbGVQbGF5ID0gKCkgPT4ge1xuICAgIGlmIChpc1BsYXlpbmcpIHtcbiAgICAgIG1lZGlhSGFuZGxlcnMub25QYXVzZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBtZWRpYUhhbmRsZXJzLm9uUGxheSgpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVBdWRpb1BsYXkgPSAoZXZlbnQ6IFJlYWN0LlN5bnRoZXRpY0V2ZW50PEhUTUxBdWRpb0VsZW1lbnQ+KSA9PiB7XG4gICAgaWYgKCFjdXJyZW50VmlkZW8pIHJldHVybjtcblxuICAgIHVwZGF0ZU1ldGFkYXRhKCk7XG4gICAgc2V0dXBIYW5kbGVycygpO1xuICAgIHNldElzUGxheWluZyh0cnVlKTtcbiAgICBzZXRQb3NpdGlvbigwKTtcbiAgICBzZXREdXJhdGlvbihldmVudC5jdXJyZW50VGFyZ2V0LmR1cmF0aW9uKTtcbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgY29uc3QgdmlkZW8gPSB2aWRlb1JlZi5jdXJyZW50O1xuICAgICAgY29uc3QgYXVkaW8gPSBhdWRpb1JlZi5jdXJyZW50O1xuXG4gICAgICBpZiAoIXZpZGVvIHx8ICFhdWRpbyB8fCB2aWRlby5kdXJhdGlvbiA8IDAgfHwgYXVkaW8uZHVyYXRpb24gPCAwKSByZXR1cm47XG5cbiAgICAgIGlmIChNYXRoLmFicyh2aWRlby5jdXJyZW50VGltZSAtIGF1ZGlvLmN1cnJlbnRUaW1lKSA+IDAuMykge1xuICAgICAgICB2aWRlby5jdXJyZW50VGltZSA9IGF1ZGlvLmN1cnJlbnRUaW1lO1xuICAgICAgfVxuXG4gICAgICBpZiAoYXVkaW8ucGF1c2VkICE9PSB2aWRlby5wYXVzZWQpIHtcbiAgICAgICAgYXVkaW8ucGF1c2VkID8gdmlkZW8ucGF1c2UoKSA6IHZpZGVvLnBsYXkoKTtcbiAgICAgIH1cblxuICAgICAgc2V0UG9zaXRpb24oYXVkaW8uY3VycmVudFRpbWUpO1xuICAgICAgc2V0RHVyYXRpb24oYXVkaW8uZHVyYXRpb24pO1xuICAgIH0sIDMwMCk7XG5cbiAgICByZXR1cm4gKCkgPT4gY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gIH0sIFtdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxvYWRWaWRlb3MoKTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IGhhbmRsZVRyYWNrQ2hhbmdlID0gYXN5bmMgKGRpcmVjdGlvbjogXCJwcmV2XCIgfCBcIm5leHRcIikgPT4ge1xuICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IHZpZGVvcy5maW5kSW5kZXgoKHYpID0+IHYuaWQgPT09IGN1cnJlbnRWaWRlbz8uaWQpO1xuICAgIGNvbnN0IG5leHRWaWRlbyA9IGF3YWl0IGZpbmROZXh0RG93bmxvYWRlZFZpZGVvKGN1cnJlbnRJbmRleCwgZGlyZWN0aW9uKTtcblxuICAgIGlmIChuZXh0VmlkZW8pIHtcbiAgICAgIGhhbmRsZVNlbGVjdFZpZGVvKG5leHRWaWRlbyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRvYXN0LmVycm9yKFxuICAgICAgICBgTm8gJHtcbiAgICAgICAgICBkaXJlY3Rpb24gPT09IFwicHJldlwiID8gXCJwcmV2aW91c1wiIDogXCJtb3JlXCJcbiAgICAgICAgfSBkb3dubG9hZGVkIHZpZGVvcyBhdmFpbGFibGVgLFxuICAgICAgKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgbG9hZFZpZGVvcyA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB2aWRlb3MgPSBhd2FpdCBnZXRBbGxWaWRlb3MoKTtcbiAgICBzZXRWaWRlb3ModmlkZW9zKTtcbiAgICBhd2FpdCBpbml0aWFsaXplU2VhcmNoSW5kZXgodmlkZW9zKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVTZWxlY3RWaWRlbyA9IGFzeW5jICh2aWRlbzogVmlkZW8pID0+IHtcbiAgICBpZiAodmlkZW8uaWQgPT09IGN1cnJlbnRWaWRlbz8uaWQpIHtcbiAgICAgIHNldEN1cnJlbnRWaWV3KFwiZGV0YWlsXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBnZXRNZWRpYSh2aWRlby5pZCwgdmlkZW8udGl0bGUpO1xuICAgICAgaWYgKCFyZXN1bHQpIHJldHVybjtcblxuICAgICAgY29uc3QgeyB2aWRlb1VybCwgYXVkaW9VcmwgfSA9IHJlc3VsdDtcbiAgICAgIHNldFZpZGVvU3JjKHZpZGVvVXJsKTtcbiAgICAgIHNldEF1ZGlvU3JjKGF1ZGlvVXJsKTtcbiAgICAgIHNldEN1cnJlbnRWaWRlbyh2aWRlbyk7XG4gICAgICBzZXRDdXJyZW50VmlldyhcImRldGFpbFwiKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICB0b2FzdC5lcnJvcihcIkZhaWxlZCB0byBsb2FkIHZpZGVvXCIpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVBZGRWaWRlbyA9IGFzeW5jICh2aWRlbzogVmlkZW8pID0+IHtcbiAgICBjb25zdCB0aHVtYm5haWxSZXNwb25zZSA9IGF3YWl0IGNvcnNGZXRjaCh2aWRlby50aHVtYm5haWwpO1xuICAgIGNvbnN0IHRodW1ibmFpbEJ1ZmZlciA9XG4gICAgICB0aHVtYm5haWxSZXNwb25zZS5zdGF0dXMgPT09IDQwNFxuICAgICAgICA/IGF3YWl0IChhd2FpdCBmZXRjaCh2aWRlby50aHVtYm5haWwpKS5hcnJheUJ1ZmZlcigpXG4gICAgICAgIDogYXdhaXQgdGh1bWJuYWlsUmVzcG9uc2UuYXJyYXlCdWZmZXIoKTtcbiAgICBjb25zdCB0aHVtYm5haWxCYXNlNjQgPSBCdWZmZXIuZnJvbSh0aHVtYm5haWxCdWZmZXIpLnRvU3RyaW5nKFwiYmFzZTY0XCIpO1xuXG4gICAgY29uc3QgbmV3VmlkZW8gPSB7XG4gICAgICAuLi52aWRlbyxcbiAgICAgIHRodW1ibmFpbDogYGRhdGE6aW1hZ2UvanBlZztiYXNlNjQsJHt0aHVtYm5haWxCYXNlNjR9YCxcbiAgICB9O1xuXG4gICAgYXdhaXQgYWRkVmlkZW8obmV3VmlkZW8pO1xuICAgIGF3YWl0IGFkZFRvU2VhcmNoSW5kZXgobmV3VmlkZW8pO1xuICAgIHRvYXN0KFwiVmlkZW8gYWRkZWQgc3VjY2Vzc2Z1bGx5XCIpO1xuICAgIGF3YWl0IGxvYWRWaWRlb3MoKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVEZWxldGVWaWRlbyA9IGFzeW5jICh2aWRlbzogVmlkZW8pID0+IHtcbiAgICBhd2FpdCBkZWxldGVWaWRlbyh2aWRlby5pZCk7XG4gICAgYXdhaXQgZGVsZXRlTWVkaWFCaW5hcnkodmlkZW8uaWQpO1xuICAgIGF3YWl0IHJlbW92ZUZyb21TZWFyY2hJbmRleCh2aWRlby5pZCk7XG4gICAgdG9hc3QoXCJWaWRlbyBkZWxldGVkIHN1Y2Nlc3NmdWxseVwiKTtcbiAgICBsb2FkVmlkZW9zKCk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlUGxheWVyQmFjayA9ICgpID0+IHtcbiAgICBzZXRDdXJyZW50VmlldyhcImhvbWVcIik7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlTWluaVBsYXllckNsaWNrID0gKCkgPT4ge1xuICAgIHNldEN1cnJlbnRWaWV3KFwiZGV0YWlsXCIpO1xuICB9O1xuXG4gIGNvbnN0IGZpbmROZXh0RG93bmxvYWRlZFZpZGVvID0gYXN5bmMgKFxuICAgIGN1cnJlbnRJbmRleDogbnVtYmVyLFxuICAgIGRpcmVjdGlvbjogXCJuZXh0XCIgfCBcInByZXZcIixcbiAgKSA9PiB7XG4gICAgY29uc3Qgc3RlcCA9IGRpcmVjdGlvbiA9PT0gXCJuZXh0XCIgPyAxIDogLTE7XG4gICAgY29uc3QgbGltaXQgPSBkaXJlY3Rpb24gPT09IFwibmV4dFwiID8gdmlkZW9zLmxlbmd0aCA6IC0xO1xuXG4gICAgZm9yIChsZXQgaSA9IGN1cnJlbnRJbmRleCArIHN0ZXA7IGkgIT09IGxpbWl0OyBpICs9IHN0ZXApIHtcbiAgICAgIGNvbnN0IHZpZGVvID0gdmlkZW9zW2ldO1xuICAgICAgY29uc3QgbWVkaWEgPSBhd2FpdCBnZXRNZWRpYUJpbmFyeSh2aWRlby5pZCk7XG4gICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgcmV0dXJuIHZpZGVvO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaC1kdmhcIj5cbiAgICAgICAgPG1haW4gY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtZDpmbGV4LXJvdyBmbGV4LTEgb3ZlcmZsb3cteS1hdXRvIG1kOml0ZW1zLXN0YXJ0IG10LXNhZmUgbWwtc2FmZSBtci1zYWZlXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZDpzdGlja3kgdG9wLTAgbGVmdC0wIHctZnVsbCBtZDp3LTEvNCBwLTQgc3BhY2UteS0yXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMiBteS0zXCI+XG4gICAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgICBzcmM9XCIuYXBwLzE0NC5wbmdcIlxuICAgICAgICAgICAgICAgIGFsdD1cIlR1YmVMaWIgTG9nb1wiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2l6ZS04IHJvdW5kZWRcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkXCI+VHViZUxpYjwvaDE+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxBZGRWaWRlb0RpYWxvZ1xuICAgICAgICAgICAgICBvbkFkZFZpZGVvPXtoYW5kbGVBZGRWaWRlb31cbiAgICAgICAgICAgICAgb25TZWxlY3RWaWRlbz17aGFuZGxlU2VsZWN0VmlkZW99XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIG1kOnctMy80IHAtNCBib3JkZXItc2Vjb25kYXJ5IGZsZXgtZ3JvdyBzZWxmLXN0cmV0Y2hcIj5cbiAgICAgICAgICAgIDxNeVZpZGVvc1xuICAgICAgICAgICAgICB2aWRlb3M9e3ZpZGVvc31cbiAgICAgICAgICAgICAgb25TZWxlY3RWaWRlbz17aGFuZGxlU2VsZWN0VmlkZW99XG4gICAgICAgICAgICAgIG9uRGVsZXRlVmlkZW89e2hhbmRsZURlbGV0ZVZpZGVvfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9tYWluPlxuICAgICAgICA8TWluaVBsYXllclxuICAgICAgICAgIGN1cnJlbnRWaWRlbz17Y3VycmVudFZpZGVvfVxuICAgICAgICAgIGN1cnJlbnRWaWV3PXtjdXJyZW50Vmlld31cbiAgICAgICAgICBpc1BsYXlpbmc9e2lzUGxheWluZ31cbiAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVNaW5pUGxheWVyQ2xpY2t9XG4gICAgICAgICAgb25Ub2dnbGVQbGF5PXtoYW5kbGVUb2dnbGVQbGF5fVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8UGxheWVyXG4gICAgICAgIGN1cnJlbnRWaWRlbz17Y3VycmVudFZpZGVvfVxuICAgICAgICBjdXJyZW50Vmlldz17Y3VycmVudFZpZXd9XG4gICAgICAgIGlzUGxheWluZz17aXNQbGF5aW5nfVxuICAgICAgICBwb3NpdGlvbj17cG9zaXRpb259XG4gICAgICAgIGR1cmF0aW9uPXtkdXJhdGlvbn1cbiAgICAgICAgb25CYWNrPXtoYW5kbGVQbGF5ZXJCYWNrfVxuICAgICAgICBvblRvZ2dsZVBsYXk9e2hhbmRsZVRvZ2dsZVBsYXl9XG4gICAgICAgIG9uQ2xpY2tQcmV2VHJhY2s9eygpID0+IGhhbmRsZVRyYWNrQ2hhbmdlKFwicHJldlwiKX1cbiAgICAgICAgb25DbGlja05leHRUcmFjaz17KCkgPT4gaGFuZGxlVHJhY2tDaGFuZ2UoXCJuZXh0XCIpfVxuICAgICAgICBvblNlZWtUbz17bWVkaWFIYW5kbGVycy5vblNlZWt9XG4gICAgICA+XG4gICAgICAgIDx2aWRlb1xuICAgICAgICAgIGNsYXNzTmFtZT1cImFzcGVjdC12aWRlbyB3LWZ1bGwgYmctc2Vjb25kYXJ5IHJvdW5kZWQtbGdcIlxuICAgICAgICAgIHBsYXlzSW5saW5lXG4gICAgICAgICAgYXV0b1BsYXlcbiAgICAgICAgICBwb3N0ZXI9e2N1cnJlbnRWaWRlbz8udGh1bWJuYWlsfVxuICAgICAgICAgIHNyYz17dmlkZW9TcmN9XG4gICAgICAgICAgcmVmPXt2aWRlb1JlZn1cbiAgICAgICAgPlxuICAgICAgICAgIDxzb3VyY2Ugc3JjPXt2aWRlb1NyY30gdHlwZT1cInZpZGVvL3dlYm1cIiAvPlxuICAgICAgICA8L3ZpZGVvPlxuICAgICAgPC9QbGF5ZXI+XG4gICAgICA8YXVkaW9cbiAgICAgICAgYXV0b1BsYXlcbiAgICAgICAgc3JjPXthdWRpb1NyY31cbiAgICAgICAgcmVmPXthdWRpb1JlZn1cbiAgICAgICAgb25QbGF5PXtoYW5kbGVBdWRpb1BsYXl9XG4gICAgICAgIG9uRW5kZWQ9eygpID0+IGhhbmRsZVRyYWNrQ2hhbmdlKFwibmV4dFwiKX1cbiAgICAgIC8+XG4gICAgPC8+XG4gICk7XG59XG4iXSwibmFtZXMiOlsiZ2V0QWxsVmlkZW9zIiwiYWRkVmlkZW8iLCJkZWxldGVWaWRlbyIsImRlbGV0ZU1lZGlhQmluYXJ5IiwiZ2V0TWVkaWFCaW5hcnkiLCJjb3JzRmV0Y2giLCJ1c2VTdGF0ZSIsInVzZVJlZiIsInVzZUVmZmVjdCIsIkFkZFZpZGVvRGlhbG9nIiwiTWluaVBsYXllciIsIlBsYXllciIsIk15VmlkZW9zIiwidG9hc3QiLCJpbml0aWFsaXplU2VhcmNoSW5kZXgiLCJhZGRUb1NlYXJjaEluZGV4IiwicmVtb3ZlRnJvbVNlYXJjaEluZGV4IiwidXNlTWVkaWFEb3dubG9hZCIsInVzZU1lZGlhU2Vzc2lvbiIsIk1haW4iLCJ2aWRlb3MiLCJzZXRWaWRlb3MiLCJjdXJyZW50VmlldyIsInNldEN1cnJlbnRWaWV3IiwiY3VycmVudFZpZGVvIiwic2V0Q3VycmVudFZpZGVvIiwiaXNQbGF5aW5nIiwic2V0SXNQbGF5aW5nIiwicG9zaXRpb24iLCJzZXRQb3NpdGlvbiIsImR1cmF0aW9uIiwic2V0RHVyYXRpb24iLCJ2aWRlb1NyYyIsInNldFZpZGVvU3JjIiwiYXVkaW9TcmMiLCJzZXRBdWRpb1NyYyIsInZpZGVvUmVmIiwiYXVkaW9SZWYiLCJnZXRNZWRpYSIsIm1lZGlhSGFuZGxlcnMiLCJvblBsYXkiLCJjdXJyZW50IiwicGxheSIsIm5hdmlnYXRvciIsIm1lZGlhU2Vzc2lvbiIsInBsYXliYWNrU3RhdGUiLCJvblBhdXNlIiwicGF1c2UiLCJvblN0b3AiLCJvblByZXYiLCJoYW5kbGVUcmFja0NoYW5nZSIsIm9uTmV4dCIsIm9uU2VlayIsInRpbWUiLCJjdXJyZW50VGltZSIsInVwZGF0ZU1ldGFkYXRhIiwic2V0dXBIYW5kbGVycyIsImhhbmRsZVRvZ2dsZVBsYXkiLCJoYW5kbGVBdWRpb1BsYXkiLCJldmVudCIsImN1cnJlbnRUYXJnZXQiLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwidmlkZW8iLCJhdWRpbyIsIk1hdGgiLCJhYnMiLCJwYXVzZWQiLCJjbGVhckludGVydmFsIiwibG9hZFZpZGVvcyIsImRpcmVjdGlvbiIsImN1cnJlbnRJbmRleCIsImZpbmRJbmRleCIsInYiLCJpZCIsIm5leHRWaWRlbyIsImZpbmROZXh0RG93bmxvYWRlZFZpZGVvIiwiaGFuZGxlU2VsZWN0VmlkZW8iLCJlcnJvciIsInJlc3VsdCIsInRpdGxlIiwidmlkZW9VcmwiLCJhdWRpb1VybCIsImNvbnNvbGUiLCJoYW5kbGVBZGRWaWRlbyIsInRodW1ibmFpbFJlc3BvbnNlIiwidGh1bWJuYWlsIiwidGh1bWJuYWlsQnVmZmVyIiwic3RhdHVzIiwiZmV0Y2giLCJhcnJheUJ1ZmZlciIsInRodW1ibmFpbEJhc2U2NCIsIkJ1ZmZlciIsImZyb20iLCJ0b1N0cmluZyIsIm5ld1ZpZGVvIiwiaGFuZGxlRGVsZXRlVmlkZW8iLCJoYW5kbGVQbGF5ZXJCYWNrIiwiaGFuZGxlTWluaVBsYXllckNsaWNrIiwic3RlcCIsImxpbWl0IiwibGVuZ3RoIiwiaSIsIm1lZGlhIiwiZGl2IiwiY2xhc3NOYW1lIiwibWFpbiIsImltZyIsInNyYyIsImFsdCIsImgxIiwib25BZGRWaWRlbyIsIm9uU2VsZWN0VmlkZW8iLCJvbkRlbGV0ZVZpZGVvIiwib25DbGljayIsIm9uVG9nZ2xlUGxheSIsIm9uQmFjayIsIm9uQ2xpY2tQcmV2VHJhY2siLCJvbkNsaWNrTmV4dFRyYWNrIiwib25TZWVrVG8iLCJwbGF5c0lubGluZSIsImF1dG9QbGF5IiwicG9zdGVyIiwicmVmIiwic291cmNlIiwidHlwZSIsIm9uRW5kZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/Main.tsx\n"));

/***/ })

});